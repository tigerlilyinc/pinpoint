# This file should contain all the record creation needed to seed the database with its default values.
# The data can then be loaded with the rake db:seed (or created alongside the db with db:setup).



user = User.create!(:name => "Charles Xavier", :email => "user@host.test", :password => "asdfasdf")

# Please keep these alphabetized.
skill_tags = ["C", "C++", "Ruby", "Perl", "Python", "Ruby/Rails", "Node.js", "MySQL", "PostgreSQL", "MongoDB", "Redis", "RSpec", "Memcached"]
skill_tags.each do |tag|
  Tag::Skill.create!(:value => tag)
end

# Please keep these alphabetized.
industry_tags = ["Advertising", "Analytics", "Commerce", "Consulting", "Dating", "Education", "Energy", "Entertainment", "Environment", "Fashion", "Gaming", "Infrastructure", "Local", "Medical", "Mobile", "Music", "Nonprofit", "Political", "Recruiting", "Retail", "Social", "Security", "Travel", "Utility"]
industry_tags.each do |tag|
  Tag::Industry.create!(:value => tag)
end
# Please keep these sorted by level.
position_tags = ["Entry", "Junior", "Senior", "Lead", "Executive"]
position_tags.each do |tag|
  Tag::Position.create!(:value => tag)
end

user.skills << Tag::Skill.order("random()").limit(6)
user.industries << Tag::Industry.order("random()").limit(4)
user.positions << Tag::Position.order("random()").limit(2)

tag_proc = Proc.new { |tag_value|
  tag = Tag.find_by_value(tag_value)

  if tag.nil?
    raise Exception.new("Unable to find tag: #{tag_value}")
  end

  tag
}

companies = [
  { :name => "UniversityNow",
    :email => "todd@unow.com",
    :description => "UniversityNow was built and supported by a team of visionaries who could see the future and believe in the right that everyone has to higher education. Learn more about the UniversityNow team.",
    :size => 40,
    :dev_team_size => 3,
    :industries => ["Social", "Education"],
    :requisitions => [ { :name => "Full-stack Ruby on Rails Developer",
                         :description => "We're looking for someone to take ownership across the board on various tasks.",
                         :skills => [ "Ruby/Rails", "PostgreSQL" ],
                         :positions => [ "Junior", "Senior" ]},
                        { :name => "QA Developer",
                          :description => "Love testing? We need someone to ensure our code goes out bug free!",
                          :skills => [ "Ruby/Rails", "RSpec", "PostgreSQL" ],
                          :positions => [ "Junior", "Senior" ] } ] },
  { :name => "Company2",
    :email => "contact@company2.test",
    :description => "This is a second company description.",
    :size => 20,
    :dev_team_size => 4,
    :industries => ["Mobile", "Education"],
    :requisitions => [ { :name => "Senior MySQL DBA",
                         :description => "Someone needs to be a boss at databases.",
                         :skills => [ "MySQL", "Ruby/Rails" ],
                         :positions => [ "Senior" ] } ] },
  { :name => "Airbnb",
    :url => "https://www.airbnb.com/",
    :description => "P2P rentals.",
    :stack => ["ror, ios, android"],
    :misc => "",
    :location => "Potrero",
    :industries => ["Travel", "Social"],
    :crunchbase_url => "http://www.crunchbase.com/company/airbnb" },
  { :name => "AliveCor",
    :url => "www.alivecor.com",
    :description => "Trying to bring mobile tech to hospitals/healthcare, not yet cleared by FDA for US use - but okay for veterinary use ",
    :stack => ["IOS, Android, JS, HTML, Ruby, Python"],
    :misc => "Getting second round funding soon",
    :location => "SF",
    :industries => ["Medical"],
    :crunchbase_url => "http://www.crunchbase.com/company/alivecor" },
  #{ :name => "AppDirect",
  #  :url => "www.appdirect.com",
  #  :description => "",
  #  :stack => [],
  #  :misc => "",
  #  :location => "",
  #  :industries => [],
  #  :crunchbase_url => "http://www.crunchbase.com/company/appdirect" },
  { :name => "Appdynamics",
    :url => "http://www.appdynamics.com/",
    :description => "Java and .NET application performance management and monitoring",
    :stack => ["java, c#, .net"],
    :misc => "",
    :location => "SF",
    :industries => ["Analytics", "Infrastructure"],
    :crunchbase_url => "http://www.crunchbase.com/company/appdynamics" },
  { :name => "Astrid",
    :url => "http://astrid.com/",
    :description => "Astrid is looking for a first PM who can step in and take on day-to-day product decisions that affect one of the most popular mobile todo lists for Android and iPhone. Our mission is to help a billion people become healthier, happier, and more productive.",
    :stack => ["Looking for a designer and PM"],
    :misc => "",
    :location => "Soma",
    :industries => ["Mobile"],
    :crunchbase_url => "http://www.crunchbase.com/company/astrid" },
  { :name => "Bunchball",
    :url => "http://www.bunchball.com/",
    :description => "Gamification platform sold to websites and businesses.",
    :stack => ["java"],
    :misc => "",
    :location => "Redwood City",
    :industries => ["Gaming"],
    :crunchbase_url => "http://www.crunchbase.com/company/bunchball" },
  { :name => "CardSpring",
    :url => "https://cardspring.com/",
    :description => "CardSpring is a simple API that lets developers add web and mobile applications like coupons, loyalty programs and digital receipts to payment cards.",
    :stack => ["ror, coffeescript, node.js"],
    :misc => "",
    :location => "SF, PA",
    :industries => ["Commerce"],
    :crunchbase_url => "http://www.crunchbase.com/company/cardspring" },
  { :name => "Climate Corporation",
    :url => "www.climate.com",
    :description => "Weather planning, management and insurance for companies",
    :stack => ["RoR"],
    :misc => "",
    :location => "SF",
    :industries => ["Environment"],
    :crunchbase_url => "http://www.crunchbase.com/company/weatherbill" },
  { :name => "CloudEra",
    :url => "http://www.cloudera.com/",
    :description => "Cloudera develops open-source software for a world dependent on Big Data.",
    :stack => ["big data, hadoop, python, javascript"],
    :misc => "",
    :location => "SF, PA",
    :industries => ["Infrastructure"],
    :crunchbase_url => "http://www.crunchbase.com/company/cloudera" },
  { :name => "Coursera",
    :url => "https://www.coursera.org/about/jobs",
    :description => "Online free education",
    :stack => ["sql, mongo, python, AWS, memcached"],
    :misc => "",
    :location => "MV",
    :industries => ["Education"],
    :crunchbase_url => "http://www.crunchbase.com/company/coursera" },
  { :name => "Credo Mobile",
    :url => "http://www.credomobile.com/jobs/credo-jobs.aspx",
    :description => "Mobile technology... 'doing social good'.... maybe.",
    :stack => [".Net .... jesus."],
    :misc => "Credit cards, mobile phones, lots of archaic shit, good for a graybeard who doesn't want new tech",
    :location => "SF",
    :industries => ["Mobile"],
    :crunchbase_url => "" },
  { :name => "Domo",
    :url => "www.domo.com",
    :description => "",
    :stack => [],
    :misc => "just got $30M in funding",
    :location => "",
    :industries => [],
    :crunchbase_url => "http://www.crunchbase.com/company/domo-studios" },
  { :name => "Dropcam",
    :url => "https://www.dropcam.com/",
    :description => "Security cam and app for mobile",
    :stack => ["python, c, ios, android"],
    :misc => "",
    :location => "SF",
    :industries => ["Mobile"],
    :crunchbase_url => "http://www.crunchbase.com/company/dropcam" },
  { :name => "EdModo",
    :url => "http://www.edmodo.com/",
    :description => "At Edmodo, our goal is to help educators around the world harness the power of social media to customize the classroom for each and every learner. ",
    :stack => ["php, javascript"],
    :misc => "",
    :location => "San Mateo",
    :industries => ["Education"],
    :crunchbase_url => "http://www.crunchbase.com/company/edmodo" },
  { :name => "Educreations",
    :url => "http://www.educreations.com/",
    :description => "An online platform for creating and video video lectures",
    :stack => ["python, django"],
    :misc => "Very early stage - founded by some bright developers, put a lot of focus on hiring technical folks",
    :location => "Sunnyvale",
    :industries => ["Education"],
    :crunchbase_url => "http://www.crunchbase.com/company/educreations" },
  { :name => "Education Elements",
    :url => "http://edelements.com",
    :description => "Java hybrid education platform, curates material for k-12 charter schools",
    :stack => ["Java"],
    :misc => "Kevin is on good terms with CEO, and Sharif works there.",
    :location => "San Carlos",
    :industries => ["Education"],
    :crunchbase_url => "http://www.crunchbase.com/company/education-elements" },
  { :name => "EngineYard",
    :url => "http://www.engineyard.com/company/careers/software-developer",
    :description => "Primarily Ruby on Rails shop - interested in finding people who have large-scale distributed systems experience",
    :stack => ["Ruby, Java, Python, JS"],
    :misc => "",
    :location => "SF",
    :industries => ["Infrastructure", "Consulting"],
    :crunchbase_url => "http://www.crunchbase.com/company/engineyard" },
  { :name => "Ephox C3",
    :url => "http://app.hawq.com/",
    :description => "The parent company isn't that exciting, but the startup they're going to spin off soon might be interesting. It's basically a crawler that checks corporate sites for errors. The team is in Australia and is unbelievably nice. They have a product lead in SF, and they're looking for an engineering lead (possible co-founder) to get things kicked off here. Since this is a spin-off and funded by the parent company, it can pay a real salary.",
    :stack => ["ror, backbone"],
    :misc => "Based in Australia, looking for a lead dev in SF. Really nice team. I contract with them.",
    :location => "SF / remote",
    :industries => ["Utility"],
    :crunchbase_url => "http://www.crunchbase.com/company/ephox" },
  { :name => "Experience Project",
    :url => "http://www.experienceproject.com/",
    :description => "Blog site that is very touchy-feely and helps people connect - interesting social networking work",
    :stack => ["PHP, Python, MySQL, Redis, Beanstalk, Node.js, Hadoop"],
    :misc => "Company operated by Kanjoya, lots of well-known investors and social mission",
    :location => "SF",
    :industries => ["Social"],
    :crunchbase_url => "http://www.crunchbase.com/company/experience-project" },
  { :name => "Flite",
    :url => "http://www.flite.com/",
    :description => "Slick, real-time ad platform - data analytics",
    :stack => ["Java, Hadoop"],
    :misc => "",
    :location => "SF",
    :industries => ["Advertising"],
    :crunchbase_url => "http://www.crunchbase.com/company/flite" },
  { :name => "Funzio",
    :url => "http://www.funzio.com/",
    :description => "Cross-platform social games.",
    :stack => ["node.js, ios, android, html5"],
    :misc => "",
    :location => "SF",
    :industries => ["Gaming"],
    :crunchbase_url => "http://www.crunchbase.com/company/funzio" },
  { :name => "GoodGuide",
    :url => "http://www.goodguide.com/about/jobs",
    :description => "An idea of cataloging consumer goods based on your own filters.",
    :stack => ["Ruby on Rails, Django, or Struts"],
    :misc => "Really want to see projects, will also accept front-end devs or experience with NLP/search algorithms ",
    :location => "SF",
    :industries => ["Commerce"],
    :crunchbase_url => "http://www.crunchbase.com/company/goodguide" },
  { :name => "Groupon",
    :url => "http://www.groupon.com/",
    :description => "Flash-sale deals",
    :stack => ["java, hadoop, big data, python"],
    :misc => "",
    :location => "SF, PA",
    :industries => ["Commerce"],
    :crunchbase_url => "http://www.crunchbase.com/company/groupon-groupie" },
  { :name => "hearsaysocial",
    :url => "http://hearsaysocial.com/",
    :description => "Enterprise social sales and marketing",
    :stack => ["mapreduce, rabbitmq, python, django, javascript"],
    :misc => "",
    :location => "SF",
    :industries => ["Advertising"],
    :crunchbase_url => "http://www.crunchbase.com/company/hearsay-social" },
  { :name => "insightly",
    :url => "http://insight.ly/",
    :description => "",
    :stack => [],
    :misc => "",
    :location => "",
    :industries => [],
    :crunchbase_url => "http://www.crunchbase.com/company/insightly" },
  { :name => "isocket",
    :url => "https://www.isocket.com/",
    :description => "Direct-sold web ads.",
    :stack => [],
    :misc => "",
    :location => "MTV",
    :industries => ["Advertising"],
    :crunchbase_url => "http://www.crunchbase.com/company/isocket" },
  { :name => "JobVite",
    :url => "jobvite.com",
    :description => "Data Analytics, Social Plug-ins, In-house CRM",
    :stack => ["JS, AngularJS (a big plus)"],
    :misc => "",
    :location => "Burlingame. CA",
    :industries => ["Recruiting"],
    :crunchbase_url => "http://www.crunchbase.com/company/jobvite" },
  { :name => "John McNeil Studio",
    :url => "http://johnmcneilstudio.com/",
    :description => "Their website blows, but the company is actually really amazing. They have some beautiful studios over in Berkeley, maybe about 40 employees, and work with a lot of high-end clients (this gig is for http://www.toms.com/). They're looking for both full-time and contract work, starting ASAP. Since they're an agency they have varied stacks, but the position they're hiring for right now is RoR / JavaScript. Pay is exceptionally high, since it's a high-end agency.",
    :stack => ["all, particularly ror/javascript"],
    :misc => "Beautiful studios, TDD, pair programming",
    :location => "Berkeley",
    :industries => ["Consulting"],
    :crunchbase_url => "http://www.crunchbase.com/company/blueprint-design-studio" },
  { :name => "Klout",
    :url => "http://klout.com/",
    :description => "Measures influence across social media sites.",
    :stack => ["c++, java, big data, mapreduce, hadoop, hive, hbase, sqoop"],
    :misc => "",
    :location => "SF",
    :industries => ["Social"],
    :crunchbase_url => "http://www.crunchbase.com/company/klout" },
  { :name => "Lookout",
    :url => "https://www.lookout.com/",
    :description => "Mobile anti-virus and phone recovery",
    :stack => ["java, c, ios, android"],
    :misc => "",
    :location => "SF",
    :industries => ["Security"],
    :crunchbase_url => "http://www.crunchbase.com/company/lookout" },
  { :name => "luminosity",
    :url => "http://www.lumosity.com/",
    :description => "Brain-training games and software",
    :stack => ["ror, javascript, tdd, agile"],
    :misc => "",
    :location => "SF",
    :industries => ["Gaming", "Education"],
    :crunchbase_url => "http://www.crunchbase.com/company/luminosity#" },
  { :name => "Medium",
    :url => "https://medium.com/",
    :description => "",
    :stack => [],
    :misc => "Offering absurdly high comp - $175k + equity",
    :location => "",
    :industries => [],
    :crunchbase_url => "" },
  { :name => "MetaMarkets",
    :url => "metamarkets.com",
    :description => "Ad analytics for big data",
    :stack => ["JS, NOSQL"],
    :misc => "",
    :location => "SF",
    :industries => ["Advertising", "Analytics"],
    :crunchbase_url => "http://www.crunchbase.com/company/metamarkets" },
  { :name => "Minerva Project",
    :url => "http://minervaproject.com",
    :description => "Online post-secondary institution aiming to be the Ivy League of online learning",
    :stack => ["Python"],
    :misc => "",
    :location => "SF",
    :industries => ["Education"],
    :crunchbase_url => "http://www.crunchbase.com/company/the-minerva-project" },
  { :name => "ModCloth",
    :url => "http://www.modcloth.com/",
    :description => "Sells affordable independent designer fashion and decor.",
    :stack => ["ror, mysql"],
    :misc => "A little bit hipster.",
    :location => "Soma",
    :industries => ["Fashion"],
    :crunchbase_url => "http://www.crunchbase.com/company/modcloth" },
  { :name => "NewRelic",
    :url => "http://newrelic.com/about/jobs",
    :description => "Deploy on NewRelic - learn about your app",
    :stack => ["ruby on rails for business apps"],
    :misc => "",
    :location => "SF",
    :industries => ["Analytics", "Infrastructure"],
    :crunchbase_url => "http://www.crunchbase.com/company/newrelic" },
  { :name => "Nextdoor",
    :url => "https://nextdoor.com/",
    :description => "Private social network for neighbors",
    :stack => ["python, c++, ios, hadoop, hive, pig, map reduce"],
    :misc => "",
    :location => "SF",
    :industries => ["Social"],
    :crunchbase_url => "http://www.crunchbase.com/company/nextdoor" },
  { :name => "Nomic",
    :url => "http://www.nomic.com/",
    :description => "This small team of 8 (with 4 devs, dev founder) is aiming to capture relationships between businesses and their customers in a kind of LinkedIn-style way. They're on a RoR / mongodb / Backbone.js stack. Their founder is really chill, and after talking about their positioning and bigger plans I'm pretty sold on the quality of his idea.",
    :stack => ["node.js, mongo, backbone"],
    :misc => "Super chill",
    :location => "Mission",
    :industries => ["Social"],
    :crunchbase_url => "" },
  { :name => "OKCupid Labs",
    :url => "",
    :description => "Experimenting with online dating",
    :stack => ["Ruby on Rails"],
    :misc => "",
    :location => "SF",
    :industries => ["Dating", "Social"],
    :crunchbase_url => "http://www.crunchbase.com/company/okcupid-labs" },
  { :name => "okta",
    :url => "http://www.okta.com/",
    :description => "On-demand identity and access management",
    :stack => ["java, .net, ios"],
    :misc => "",
    :location => "Soma",
    :industries => ["Security"],
    :crunchbase_url => "http://www.crunchbase.com/company/okta" },
  { :name => "One King's Lane",
    :url => "http://onekingslane.com",
    :description => "High-end home decor site, focus on event-based shopping and vintage goods curation.",
    :stack => ["ror, ios, android"],
    :misc => "Pristine office, friendly team. Well-established.",
    :location => "Civic center",
    :industries => ["Commerce"],
    :crunchbase_url => "http://www.crunchbase.com/company/one-kings-lane" },
  { :name => "One Medical",
    :url => "http://www.onemedical.com/jobs",
    :description => "Low cost primary care service providers - currently just building out in major cities but have plans to expand",
    :stack => ["Ruby on Rails"],
    :misc => "",
    :location => "SF",
    :industries => ["Medical"],
    :crunchbase_url => "http://www.crunchbase.com/company/one-medical-group-2" },
  { :name => "Ooyala",
    :url => "http://www.ooyala.com/",
    :description => "Targeted video ads.",
    :stack => [],
    :misc => "",
    :location => "",
    :industries => ["Advertising"],
    :crunchbase_url => "http://www.crunchbase.com/company/ooyala" },
  { :name => "opendns",
    :url => "http://www.opendns.com/",
    :description => "Tricked out dns solution",
    :stack => ["c, c++, c#, php, javascript"],
    :misc => "",
    :location => "SF",
    :industries => ["Infrastructure"],
    :crunchbase_url => "http://www.crunchbase.com/company/opendns" },
  { :name => "OPower",
    :url => "www.opower.com",
    :description => "Energy efficiency company that measures and reports usage data",
    :stack => ["Java/Ruby on Rail backend and SQL"],
    :misc => "",
    :location => "SF",
    :industries => ["Energy"],
    :crunchbase_url => "http://www.crunchbase.com/company/opower" },
  { :name => "Organizer",
    :url => "http://www.organizer.com/",
    :description => "Electionear is Organizer's first mobile app for political campaigns and advocacy organizations of any size. It lets you have high-impact conversations with voters and constituents without wasting precious time and money in the process.",
    :stack => ["java, gwt, ios, android"],
    :misc => "",
    :location => "Civic center",
    :industries => ["Social", "Political"],
    :crunchbase_url => "http://www.crunchbase.com/company/organic" },
  { :name => "Peel",
    :url => "http://www.peel.com",
    :description => "An iOS/Android app that curates TV content.  Doing interesting things with ML and data science.",
    :stack => ["android, ios"],
    :misc => "closed $16M B round",
    :location => "MV",
    :industries => ["Mobile", "Entertainment"],
    :crunchbase_url => "http://www.crunchbase.com/company/peel" },
  { :name => "Picarro",
    :url => "http://www.picarro.com/",
    :description => "Ultra-high performance greenhouse gas and environmental analyzers",
    :stack => ["node.js, mongodb, python"],
    :misc => "",
    :location => "Santa Clara",
    :industries => ["Energy"],
    :crunchbase_url => "http://www.crunchbase.com/company/picarro" },
  { :name => "Pivotal Labs",
    :url => "https://pivotallabs.com",
    :description => "Rub-on-Rails contracting shop. ",
    :stack => ["Ruby on rails and various other technologies (depending on projects)"],
    :misc => "Bought by EMC with plans to scale to a larger size and put more focus into Pivotal Tracker",
    :location => "SF",
    :industries => ["Consulting"],
    :crunchbase_url => "http://www.crunchbase.com/company/pivotal-labs" },
  { :name => "Platfora",
    :url => "http://www.platfora.com",
    :description => "Interactive, In-Memory Business Intelligence",
    :stack => ["Hadoop, Java"],
    :misc => "Just received B round - $20M+",
    :location => "San Mateo",
    :industries => ["Infrastructure", "Analytics"],
    :crunchbase_url => "http://www.crunchbase.com/company/platfora" },
  { :name => "Playnomics",
    :url => "http://www.playnomics.com/",
    :description => "for Hadoop.",
    :stack => ["Java, SQL, Hadoop, Hive, JavaScript"],
    :misc => "",
    :location => "SF",
    :industries => ["Gaming"],
    :crunchbase_url => "http://www.crunchbase.com/company/playnomics" },
  { :name => "PocketGems",
    :url => "http://pocketgems.com/jobs/explore",
    :description => "Mobile gaming company",
    :stack => ["iOS, Android, Python - any OOP exp"],
    :misc => "",
    :location => "SF",
    :industries => ["Gaming"],
    :crunchbase_url => "http://www.crunchbase.com/company/pocket-gems" },
  { :name => "Polyvore",
    :url => "http://www.polyvore.com/",
    :description => "Designers and people post items online, and then users can make/share outfits with those items.",
    :stack => ["MySQL, memcached, nginx, Solr, RabbitMQ, Hive, AWS (EC2, Route53, S3), Splunk. Didn't confirm, but apparently their backend is Perl?"],
    :misc => "",
    :location => "MTV",
    :industries => ["Fashion"],
    :crunchbase_url => "http://www.crunchbase.com/company/polyvore" },
  { :name => "Pure Storage",
    :url => "http://www.purestorage.com/",
    :description => "Pure Storage has a simple mission: to enable the widespread adoption of flash in the enterprise data center.",
    :stack => ["c, c++"],
    :misc => "",
    :location => "MTV",
    :industries => ["Infrastructure"],
    :crunchbase_url => "http://www.crunchbase.com/company/pure-storage" },
  { :name => "Rally",
    :url => "https://rally.org/",
    :description => "Basically the same as kickstarter, with a more social slant.",
    :stack => ["ror"],
    :misc => "",
    :location => "Soma",
    :industries => ["Social", "Political"],
    :crunchbase_url => "http://www.crunchbase.com/company/rally-org" },
  { :name => "raptr",
    :url => "http://raptr.com/",
    :description => "Social network built around gaming",
    :stack => ["python, php, qt"],
    :misc => "",
    :location => "MTV",
    :industries => ["Gaming"],
    :crunchbase_url => "http://www.crunchbase.com/company/raptr" },
  { :name => "Relevvant",
    :url => "http://www.relevvant.com/",
    :description => "",
    :stack => [],
    :misc => "",
    :location => "",
    :industries => [],
    :crunchbase_url => "" },
  { :name => "ROBLOX",
    :url => "http://corp.roblox.com/jobs",
    :description => "",
    :stack => [],
    :misc => "",
    :location => "",
    :industries => ["Gaming"],
    :crunchbase_url => "" },
  { :name => "shopkick",
    :url => "http://www.shopkick.com/",
    :description => "Rewards program tied to your credit card",
    :stack => ["mapreduce, hadoop, big data, activemq, thrift, python, pylons"],
    :misc => "",
    :location => "PA",
    :industries => ["Commerce"],
    :crunchbase_url => "http://www.crunchbase.com/company/shopkick" },
  { :name => "smule",
    :url => "http://www.smule.com/",
    :description => "Social music apps",
    :stack => ["ror, flash, java, ios, android"],
    :misc => "",
    :location => "SF, PA",
    :industries => ["Music", "Social"],
    :crunchbase_url => "http://www.crunchbase.com/company/smule" },
  { :name => "Spongecell",
    :url => "http://www.spongecell.com/",
    :description => "HTML5 rich-media ads.",
    :stack => ["node.js, ror, redis, html5, big data"],
    :misc => "HQ in NY, but building out SF. Looking for sr software engineer",
    :location => "Civic center",
    :industries => ["Advertising"],
    :crunchbase_url => "http://www.crunchbase.com/company/spongecell" },
  { :name => "Stitch Fix",
    :url => "http://stitchfixjobs.com/",
    :description => "Stitch Fix is an early stage startup building a disruptive, data-driven, retail platform. We have gobs of paying customers and things are growing fast. We're currently a small, senior dev & analytics team based in SF - but we'd like to add some more talented folks. ",
    :stack => ["ruby, some python, R, PSQL "],
    :misc => "",
    :location => "SF",
    :industries => ["Commerce", "Analytics"],
    :crunchbase_url => "http://www.crunchbase.com/company/stitch-fix" },
  { :name => "Sumo Logic",
    :url => "http://www.sumologic.com/",
    :description => "Analytics from log processing.",
    :stack => ["big data"],
    :misc => "",
    :location => "MTV",
    :industries => ["Infrastructure"],
    :crunchbase_url => "http://www.crunchbase.com/company/sumo-logic" },
  { :name => "Syntellia",
    :url => "http://syntellia.com/#0",
    :description => "Makes the fleksy keyboard app, which is good for typing without looking, or for the visually impaired.",
      :stack => ["mobile"],
      :misc => "Just raised $900k through some miracle.",
      :location => "",
      :industries => ["Utility"],
      :crunchbase_url => "http://www.crunchbase.com/company/syntellia" },
  { :name => "Tagged",
    :url => "http://www.tagged.com/?",
    :description => "Social network for meeting new people, gaming, analytics",
    :stack => [],
    :misc => "",
    :location => "SF",
    :industries => ["Social", "Gaming"],
    :crunchbase_url => "http://www.crunchbase.com/company/tagged" },
  { :name => "TellApart",
    :url => "http://tellapart.com/",
    :description => "TellApart Transactional Retargeting helps bring visitors back through the use of dynamic, personalized banner ads which show your products to the right visitors.  Simply put, it turns lost shoppers into return customers.",
    :stack => ["java, python, c++"],
    :misc => "",
    :location => "Burlingame",
    :industries => ["Advertising"],
    :crunchbase_url => "http://www.crunchbase.com/company/tellapart" },
  { :name => "Threadflip",
    :url => "http://www.threadflip.com/home",
    :description => "Threadflip is a social marketplace for buying, selling, and discovering new, unique, and pre-loved fashion",
    :stack => ["ror"],
    :misc => "",
    :location => "SF",
    :industries => ["Commerce", "Social", "Fashion"],
    :crunchbase_url => "http://www.crunchbase.com/company/threadflip" },
  { :name => "Twitch.tv",
    :url => "http://www.twitch.tv",
    :description => "We're building the world's largest video platform and community for gamers, and we're looking for smart, passionate people to help us do it.",
    :stack => ["ror, postgres, mongo, nginx"],
    :misc => "",
    :location => "",
    :industries => ["Gaming"],
    :crunchbase_url => "http://www.crunchbase.com/company/twitch" },
  { :name => "Typesafe",
    :url => "http://typesafe.com/",
    :description => "Typesafe makes it easy to build software based on the open source Scala programming language, Akka middleware, and Play web framework. From multicore to cloud computing, it's purpose built for scale.",
    :stack => ["scala, java"],
    :misc => "",
    :location => "SF",
    :industries => ["Infrastructure"],
    :crunchbase_url => "http://www.crunchbase.com/company/typesafe" },
  { :name => "Udacity",
    :url => "http://www.udacity.com/",
    :description => "Free online higher education courses.",
    :stack => ["python"],
    :misc => "",
    :location => "PA",
    :industries => ["Education"],
    :crunchbase_url => "http://www.crunchbase.com/company/udacity" },
  { :name => "UniversityNow",
    :url => "unow.com",
    :description => "Burning through cash and employees to create a profit-viable online college",
    :stack => ["ruby-on-rails and baby tears"],
    :misc => "",
    :location => "mordor",
    :industries => ["Education"],
    :crunchbase_url => "" },
  { :name => "Yelp",
    :url => "http://www.yelp.com/careers",
    :description => "Review everything and find it near you on a map.",
    :stack => ["Python-based, will accept any experience - they are even looking for Salesforce developers... lots of hiring"],
    :misc => "",
    :location => "sf",
    :industries => ["Commerce", "Social"],
    :crunchbase_url => "http://www.crunchbase.com/company/yelp" },
  { :name => "zendesk",
    :url => "http://www.zendesk.com/",
    :description => "Customer support software",
    :stack => ["ror"],
    :misc => "",
    :location => "Civic center",
    :industries => ["Utility"],
    :crunchbase_url => "http://www.crunchbase.com/company/zendesk" },
  { :name => "Zynga",
    :url => "http://zynga.com/",
    :description => "Facebook and mobile games",
    :stack => ["c, c++, java, python, ios, android"],
    :misc => "",
    :location => "Potrero",
    :industries => ["Gaming", "Social"],
    :crunchbase_url => "http://www.crunchbase.com/company/zynga" }]

companies.each do |company_data|
  puts "Creating #{company_data[:name]}..."
  industry_tags = company_data[:industries].map(&tag_proc)
  company = Company.new(:name => company_data[:name],
                        :email => company_data[:email],
                        :description => company_data[:description],
                        :size => company_data[:size],
                        :dev_team_size => company_data[:dev_team_size],
                        :industries => industry_tags)
  company.company_tags.each do |company_tag|
    company_tag.company = company
  end
  company.save!

  next if company_data[:requsitions].nil?

  company_data[:requisitions].each do |requisition_data|
    skill_tags = requisition_data[:skills].map(&tag_proc)
    position_tags = requisition_data[:positions].map(&tag_proc)
    requisition = Requisition.new(:company => company,
                                  :name => requisition_data[:name],
                                  :skills => skill_tags,
                                  :positions => position_tags)
    requisition.requisition_tags.each do |requisition_tag|
      requisition_tag.requisition = requisition
    end
    requisition.save!

    interest_decision = InterestDecision.create!(:requisition => requisition, :user => user)
  end
end

